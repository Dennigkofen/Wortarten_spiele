art.style.animation = `sparkle ${Math.random() * 2 + 1.5}s ease-in-out`;
                art.style.pointerEvents = 'none';
                particlesContainer.appendChild(art);
                
                setTimeout(() => {
                    art.remove();
                }, 3500);
            }
        }
        
        function createGoldSparkles() {
            const particlesContainer = document.getElementById('particles');
            const goldSymbols = ['üíé', '‚ú®', '‚≠ê', 'üåü'];
            
            for (let i = 0; i < 12; i++) {
                const gold = document.createElement('div');
                gold.textContent = goldSymbols[Math.floor(Math.random() * goldSymbols.length)];
                gold.style.position = 'absolute';
                gold.style.left = Math.random() * 80 + 10 + '%';
                gold.style.top = Math.random() * 80 + 10 + '%';
                gold.style.fontSize = Math.random() * 20 + 15 + 'px';
                gold.style.animation = `sparkle ${Math.random() * 2 + 1}s ease-in-out`;
                gold.style.pointerEvents = 'none';
                gold.style.color = 'gold';
                particlesContainer.appendChild(gold);
                
                setTimeout(() => {
                    gold.remove();
                }, 3000);
            }
        }<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adjektive - Eigenschafts-Labor</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #E91E63, #9C27B0, #3F51B5, #2196F3, #00BCD4, #4CAF50, #8BC34A, #CDDC39, #FFEB3B, #FF9800, #FF5722);
            background-size: 400% 400%;
            animation: rainbowBackground 10s ease infinite;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            user-select: none;
        }
        
        @keyframes rainbowBackground {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .game-container {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            position: relative;
            width: 100%;
            max-width: 900px;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: bold;
            flex-wrap: wrap;
        }
        
        .score {
            color: #E91E63;
            margin: 5px;
        }
        
        .timer-bar {
            background: #FFE0E6;
            border: 2px solid #E91E63;
            border-radius: 10px;
            height: 20px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }
        
        .timer-fill {
            background: linear-gradient(90deg, #4CAF50, #FFC107, #F44336);
            height: 100%;
            width: 100%;
            border-radius: 8px;
            transition: width 0.1s linear;
        }
        
        .timer-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            color: #333;
            font-size: 14px;
        }
        
        .difficulty-info {
            background: linear-gradient(45deg, #E3F2FD, #F3E5F5);
            border: 2px solid #9C27B0;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #6A1B9A;
        }
        
        .task-area {
            background: linear-gradient(45deg, #FFE0E6, #F3E5F5);
            border: 3px solid #E91E63;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .task-text {
            font-size: 24px;
            font-weight: bold;
            color: #AD1457;
            text-align: center;
        }
        
        .experiment-area {
            background: linear-gradient(to bottom, #E8F5E8, #F0F4FF);
            border: 3px solid #4CAF50;
            border-radius: 15px;
            height: 300px;
            position: relative;
            margin-bottom: 20px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .object-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .main-object {
            font-size: 120px;
            transition: all 0.8s ease;
            transform-origin: center;
            position: relative;
            z-index: 5;
        }
        
        .object-label {
            font-size: 18px;
            font-weight: bold;
            color: #2E7D32;
            margin-top: 10px;
            padding: 5px 15px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
        }
        
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
        }
        
        .word-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
            max-width: 100%;
        }
        
        .word-button {
            background: linear-gradient(45deg, #9C27B0, #E91E63);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .word-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .word-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .feedback {
            font-size: 18px;
            font-weight: bold;
            margin: 10px 0;
            min-height: 40px;
        }
        
        .correct { color: #4CAF50; }
        .wrong { color: #F44336; }
        
        .start-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(233, 30, 99, 0.95);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 20px;
            z-index: 1000;
        }
        
        .start-screen h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .start-screen p {
            font-size: 1.2rem;
            margin: 10px 0;
            text-align: center;
        }
        
        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.98);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            text-align: center;
            display: none;
            z-index: 1000;
        }
        
        .highscore-section {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(45deg, #FCE4EC, #F3E5F5);
            border-radius: 10px;
            border: 2px solid #E91E63;
        }
        
        .highscore-section h3 {
            color: #AD1457;
            margin-top: 0;
        }
        
        .highscore-section ol {
            text-align: left;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .highscore-section li {
            padding: 5px 0;
            border-bottom: 1px solid #F8BBD9;
        }
        
        button {
            background: #E91E63;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #C2185B;
            transform: translateY(-2px);
        }
        
        input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            margin: 10px;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes grow {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        @keyframes shrink {
            0% { transform: scale(1); }
            50% { transform: scale(0.7); }
            100% { transform: scale(1); }
        }
        
        @keyframes colorShift {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .grow { animation: grow 1s ease-in-out !important; }
        .shrink { animation: shrink 1s ease-in-out !important; }
        .colorful { animation: colorShift 2s ease-in-out !important; }
        .shake-effect { animation: shake 0.5s ease-in-out !important; }
        
        @media (max-width: 768px) {
            .game-container {
                width: 95%;
                padding: 15px;
            }
            
            .word-buttons {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .word-button {
                font-size: 14px;
                padding: 12px 16px;
                min-height: 55px;
            }
            
            .task-text {
                font-size: 20px;
            }
            
            .main-object {
                font-size: 80px;
            }
            
            .experiment-area {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üåà Adjektive - Eigenschafts-Labor üî¨</h1>
        
        <div class="game-info">
            <div class="score">Punkte: <span id="score">0</span></div>
            <div class="score">Leben: <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span></div>
            <div class="score">Level: <span id="level">1</span></div>
        </div>
        
        <div class="difficulty-info">
            <span id="difficultyText">Level 1 - Offensichtliche Kombinationen</span>
        </div>
        
        <div class="timer-bar">
            <div class="timer-fill" id="timerFill"></div>
            <div class="timer-text" id="timerText">3s</div>
        </div>
        
        <div class="task-area">
            <div class="task-text" id="taskText">Bereit f√ºr dein erstes Experiment?</div>
        </div>
        
        <div class="experiment-area">
            <div class="particles" id="particles"></div>
            <div class="object-container">
                <div class="main-object" id="mainObject">üéØ</div>
                <div class="object-label" id="objectLabel">Objekt</div>
            </div>
        </div>
        
        <div class="word-buttons" id="wordButtons">
            <!-- Word-Buttons werden dynamisch erstellt -->
        </div>
        
        <div class="feedback" id="feedback"></div>
        
        <div class="highscore-section">
            <h3>üèÜ Highscore - Adjektive</h3>
            <div id="highscoreList">Lade Highscores...</div>
        </div>
        
        <div class="start-screen" id="startScreen">
            <h2>üåà Eigenschafts-Labor</h2>
            <p>‚è∞ Du hast nur 3 Sekunden pro Aufgabe!</p>
            <p>üî¨ Experimentiere mit Adjektiven!</p>
            <p>üéØ W√§hle das passende Adjektiv f√ºr das Objekt!</p>
            <p>üìà Level steigt alle 5 richtigen Antworten!</p>
            <p>‚ú® Beobachte wie sich Objekte verwandeln!</p>
            <p>üß† 2 richtige Adjektive (Gegenteile) sind versteckt!</p>
            <p>‚ù§Ô∏è Du hast 3 Leben - experimentiere klug!</p>
            <button onclick="startGame()">Experiment starten!</button>
        </div>
        
        <div class="game-over" id="gameOver">
            <h2>Experiment beendet!</h2>
            <p>Deine Punkte: <span id="finalScore">0</span></p>
            <input type="text" id="playerName" placeholder="Dein Name" maxlength="20">
            <br>
            <button onclick="saveHighscore()">Highscore speichern</button>
            <button onclick="restartGame()">Nochmal experimentieren</button>
        </div>
    </div>

    <script>
        const firebaseUrl = 'https://wortartenspiele-default-rtdb.europe-west1.firebasedatabase.app';
        
        let gameRunning = false;
        let gameStarted = false;
        let score = 0;
        let lives = 3;
        let currentTask = 0;
        let taskCount = 0;
        let currentLevel = 1;
        let buttonsDisabled = false;
        let timeRemaining = 3;
        let timer = null;
        
        // Objekte nach Schwierigkeitsgrad sortiert
        const easyExperiments = [
            {
                object: "üêò", label: "Elefant",
                correctAdjectives: ["gro√ü", "schwer"],
                wrongAdjectives: ["schnell", "klein"],
                relatedNonAdjectives: ["R√ºssel", "Afrika"]
            },
            {
                object: "üê≠", label: "Maus", 
                correctAdjectives: ["klein", "schnell"],
                wrongAdjectives: ["gro√ü", "langsam"],
                relatedNonAdjectives: ["K√§se", "Loch"]
            },
            {
                object: "üî•", label: "Feuer",
                correctAdjectives: ["hei√ü", "hell"],
                wrongAdjectives: ["kalt", "dunkel"],
                relatedNonAdjectives: ["Rauch", "Holz"]
            },
            {
                object: "‚ùÑÔ∏è", label: "Schnee",
                correctAdjectives: ["kalt", "wei√ü"],
                wrongAdjectives: ["hei√ü", "schwarz"],
                relatedNonAdjectives: ["Winter", "Schneemann"]
            },
            {
                object: "üåû", label: "Sonne",
                correctAdjectives: ["hell", "warm"],
                wrongAdjectives: ["dunkel", "kalt"],
                relatedNonAdjectives: ["Tag", "Himmel"]
            }
        ];
        
        const mediumExperiments = [
            {
                object: "üëó", label: "Kleid",
                correctAdjectives: ["elegant", "schick"],
                wrongAdjectives: ["h√§sslich", "schlampig"],
                relatedNonAdjectives: ["Mode", "Stoff"]
            },
            {
                object: "üç∑", label: "Wein",
                correctAdjectives: ["edel", "kostbar"],
                wrongAdjectives: ["billig", "wertlos"],
                relatedNonAdjectives: ["Traube", "Glas"]
            },
            {
                object: "üé≠", label: "Theater",
                correctAdjectives: ["dramatisch", "k√ºnstlerisch"],
                wrongAdjectives: ["langweilig", "stumm"],
                relatedNonAdjectives: ["B√ºhne", "Schauspieler"]
            },
            {
                object: "üèõÔ∏è", label: "Tempel",
                correctAdjectives: ["heilig", "ehrw√ºrdig"],
                wrongAdjectives: ["profan", "gew√∂hnlich"],
                relatedNonAdjectives: ["S√§ule", "Gott"]
            },
            {
                object: "üíé", label: "Diamant",
                correctAdjectives: ["wertvoll", "gl√§nzend"],
                wrongAdjectives: ["wertlos", "matt"],
                relatedNonAdjectives: ["Schmuck", "Karat"]
            }
        ];
        
        const hardExperiments = [
            {
                object: "üéµ", label: "Musik",
                correctAdjectives: ["friedlich", "harmonisch"],
                wrongAdjectives: ["chaotisch", "dissonant"],
                relatedNonAdjectives: ["Melodie", "Komponist"]
            },
            {
                object: "üìö", label: "Wissen",
                correctAdjectives: ["tiefgreifend", "umfassend"],
                wrongAdjectives: ["oberfl√§chlich", "begrenzt"],
                relatedNonAdjectives: ["Bildung", "Erfahrung"]
            },
            {
                object: "üå∏", label: "Hoffnung",
                correctAdjectives: ["zerbrechlich", "kostbar"],
                wrongAdjectives: ["robust", "wertlos"],
                relatedNonAdjectives: ["Traum", "Zukunft"]
            },
            {
                object: "‚öñÔ∏è", label: "Gerechtigkeit",
                correctAdjectives: ["unparteiisch", "ausgewogen"],
                wrongAdjectives: ["voreingenommen", "einseitig"],
                relatedNonAdjectives: ["Recht", "Richter"]
            },
            {
                object: "üïäÔ∏è", label: "Frieden",
                correctAdjectives: ["still", "ruhig"],
                wrongAdjectives: ["laut", "unruhig"],
                relatedNonAdjectives: ["Harmonie", "Ruhe"]
            }
        ];
        
        let allExperiments = [];
        
        function updateExperimentPool() {
            allExperiments = [];
            
            if (currentLevel <= 4) {
                // Level 1-4: Nur einfache Experimente
                allExperiments = [...easyExperiments];
            } else if (currentLevel <= 9) {
                // Level 5-9: Einfache + mittlere Experimente
                allExperiments = [...easyExperiments, ...mediumExperiments];
            } else {
                // Level 10+: Alle Experimente inkl. abstrakte
                allExperiments = [...easyExperiments, ...mediumExperiments, ...hardExperiments];
            }
        }
        
        // Zus√§tzliche Adjektive f√ºr falsche Antworten
        const additionalAdjectives = [
            "lustig", "traurig", "m√ºde", "wach", "hungrig", "satt", "stark", "schwach",
            "neu", "alt", "modern", "antik", "glatt", "rau", "spitz", "stumpf",
            "dick", "d√ºnn", "breit", "schmal", "tief", "flach", "hart", "weich"
        ];
        
        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            gameStarted = true;
            gameRunning = true;
            currentTask = 0;
            taskCount = 0;
            currentLevel = 1;
            updateExperimentPool();
            loadExperiment();
        }
        
        function startTimer() {
            timeRemaining = 3;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    timeUp();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const timerFill = document.getElementById('timerFill');
            const timerText = document.getElementById('timerText');
            
            const percentage = (timeRemaining / 3) * 100;
            timerFill.style.width = percentage + '%';
            timerText.textContent = timeRemaining + 's';
        }
        
        function timeUp() {
            if (!gameRunning || buttonsDisabled) return;
            
            buttonsDisabled = true;
            lives--;
            
            const feedbackElement = document.getElementById('feedback');
            const experiment = allExperiments[currentTask % allExperiments.length];
            const correctOptions = experiment.correctAdjectives.join(", ");
            feedbackElement.textContent = `Zeit abgelaufen! ‚è∞ Richtig w√§re gewesen: ${correctOptions}`;
            feedbackElement.className = 'feedback wrong';
            
            const objectEl = document.getElementById('mainObject');
            objectEl.className = 'main-object shake-effect';
            
            if (lives <= 0) {
                setTimeout(() => {
                    gameOver();
                }, 2500);
            } else {
                setTimeout(() => {
                    nextExperiment();
                }, 2500);
            }
            
            updateDisplay();
        }
        
        function loadExperiment() {
            // Level-System: Alle 5 richtige Antworten n√§chstes Level
            const newLevel = Math.floor(taskCount / 5) + 1;
            if (newLevel !== currentLevel) {
                currentLevel = newLevel;
                updateExperimentPool();
            }
            
            // Schwierigkeits-Text aktualisieren
            let difficultyText = '';
            if (currentLevel <= 4) {
                difficultyText = `Level ${currentLevel} - Offensichtliche Kombinationen`;
            } else if (currentLevel <= 9) {
                difficultyText = `Level ${currentLevel} - Subtilere Adjektive`;
            } else {
                difficultyText = `Level ${currentLevel} - Abstrakte Konzepte`;
            }
            
            document.getElementById('level').textContent = currentLevel;
            document.getElementById('difficultyText').textContent = difficultyText;
            
            // Experiment aus aktuellem Pool w√§hlen
            if (currentTask >= allExperiments.length) {
                currentTask = 0;
            }
            
            const experiment = allExperiments[currentTask];
            document.getElementById('taskText').textContent = `Mache ${experiment.label}...`;
            document.getElementById('mainObject').textContent = experiment.object;
            document.getElementById('objectLabel').textContent = experiment.label;
            
            // Objekt zur√ºcksetzen
            const objectEl = document.getElementById('mainObject');
            objectEl.className = 'main-object';
            objectEl.style.transform = 'scale(1)';
            objectEl.style.filter = 'none';
            
            // 6 W√∂rter erstellen: 2 korrekte Adjektive, 2 falsche Adjektive, 2 passende Nicht-Adjektive
            const options = [];
            
            // 2 korrekte Adjektive (Gegenteile)
            options.push(...experiment.correctAdjectives);
            
            // 2 falsche Adjektive f√ºr dieses Objekt
            options.push(...experiment.wrongAdjectives);
            
            // 2 passende Nicht-Adjektive
            options.push(...experiment.relatedNonAdjectives);
            
            // Mischen
            const shuffledOptions = options.sort(() => Math.random() - 0.5);
            
            const buttonContainer = document.getElementById('wordButtons');
            buttonContainer.innerHTML = '';
            
            shuffledOptions.forEach(word => {
                const button = document.createElement('button');
                button.className = 'word-button';
                button.textContent = word;
                button.onclick = () => selectWord(word);
                buttonContainer.appendChild(button);
            });
            
            document.getElementById('feedback').textContent = '';
            buttonsDisabled = false;
            
            // Timer starten
            startTimer();
        }
        
        function selectWord(selectedWord) {
            if (buttonsDisabled || !gameRunning) return;
            
            clearInterval(timer); // Timer stoppen
            buttonsDisabled = true;
            const experiment = allExperiments[currentTask % allExperiments.length];
            const feedbackElement = document.getElementById('feedback');
            const objectEl = document.getElementById('mainObject');
            
            document.querySelectorAll('.word-button').forEach(btn => {
                btn.disabled = true;
            });
            
            if (experiment.correctAdjectives.includes(selectedWord)) {
                // Richtiges Adjektiv!
                taskCount++;
                const timeBonus = timeRemaining * 5; // Bonus f√ºr schnelle Antwort
                score += 25 + timeBonus;
                
                let bonusText = timeBonus > 0 ? ` (+${timeBonus} Zeit-Bonus)` : '';
                feedbackElement.textContent = `Perfekt! "${selectedWord}" passt zu ${experiment.label}! ‚ú® (+${25 + timeBonus} Punkte)${bonusText}`;
                feedbackElement.className = 'feedback correct';
                
                // Visuelle Transformation basierend auf Adjektiv
                applyTransformation(selectedWord, objectEl);
                
                setTimeout(() => {
                    nextExperiment();
                }, 2500);
                
            } else {
                // Falsches Wort
                lives--;
                
                if (experiment.wrongAdjectives.includes(selectedWord)) {
                    feedbackElement.textContent = `Unlogisch! "${selectedWord}" passt nicht zu ${experiment.label}. Korrekt w√§ren: ${experiment.correctAdjectives.join(", ")}`;
                } else {
                    feedbackElement.textContent = `"${selectedWord}" ist kein Adjektiv! Korrekt w√§ren: ${experiment.correctAdjectives.join(", ")}`;
                }
                
                feedbackElement.className = 'feedback wrong';
                
                // Fehler-Animation
                objectEl.className = 'main-object shake-effect';
                
                if (lives <= 0) {
                    setTimeout(() => {
                        gameOver();
                    }, 2500);
                } else {
                    setTimeout(() => {
                        nextExperiment();
                    }, 2500);
                }
            }
            
            updateDisplay();
        }
        
        function applyTransformation(adjective, objectEl) {
            // Verschiedene Transformationen basierend auf Adjektiven
            switch(adjective) {
                case "gro√ü":
                case "hoch":
                    objectEl.className = 'main-object grow';
                    break;
                case "klein":
                case "niedrig":
                    objectEl.className = 'main-object shrink';
                    break;
                case "bunt":
                case "sch√∂n":
                case "hell":
                    objectEl.className = 'main-object colorful';
                    createSparkles();
                    break;
                case "hei√ü":
                case "warm":
                    objectEl.style.filter = 'hue-rotate(20deg) brightness(1.3)';
                    createFireParticles();
                    break;
                case "kalt":
                    objectEl.style.filter = 'hue-rotate(200deg) brightness(1.1)';
                    createSnowParticles();
                    break;
                case "schnell":
                    objectEl.style.transform = 'translateX(50px)';
                    setTimeout(() => {
                        objectEl.style.transform = 'translateX(-50px)';
                        setTimeout(() => {
                            objectEl.style.transform = 'translateX(0)';
                        }, 200);
                    }, 200);
                    break;
                case "langsam":
                    objectEl.style.transition = 'all 3s ease';
                    objectEl.style.transform = 'translateX(30px)';
                    setTimeout(() => {
                        objectEl.style.transform = 'translateX(0)';
                    }, 1000);
                    break;
                default:
                    objectEl.className = 'main-object grow';
                    createSparkles();
            }
        }
        
        function createSparkles() {
            const particlesContainer = document.getElementById('particles');
            particlesContainer.innerHTML = '';
            
            for (let i = 0; i < 10; i++) {
                const sparkle = document.createElement('div');
                sparkle.textContent = '‚ú®';
                sparkle.style.position = 'absolute';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.fontSize = Math.random() * 20 + 15 + 'px';
                sparkle.style.animation = `sparkle ${Math.random() * 2 + 1}s ease-in-out`;
                sparkle.style.pointerEvents = 'none';
                particlesContainer.appendChild(sparkle);
                
                setTimeout(() => {
                    sparkle.remove();
                }, 3000);
            }
        }
        
        function createFireParticles() {
            const particlesContainer = document.getElementById('particles');
            
            for (let i = 0; i < 8; i++) {
                const fire = document.createElement('div');
                fire.textContent = 'üî•';
                fire.style.position = 'absolute';
                fire.style.left = Math.random() * 80 + 10 + '%';
                fire.style.top = Math.random() * 80 + 10 + '%';
                fire.style.fontSize = Math.random() * 15 + 10 + 'px';
                fire.style.animation = `sparkle ${Math.random() * 1.5 + 1}s ease-in-out`;
                fire.style.pointerEvents = 'none';
                particlesContainer.appendChild(fire);
                
                setTimeout(() => {
                    fire.remove();
                }, 2500);
            }
        }
        
        function createSnowParticles() {
            const particlesContainer = document.getElementById('particles');
            
            for (let i = 0; i < 12; i++) {
                const snow = document.createElement('div');
                snow.textContent = '‚ùÑÔ∏è';
                snow.style.position = 'absolute';
                snow.style.left = Math.random() * 80 + 10 + '%';
                snow.style.top = Math.random() * 80 + 10 + '%';
                snow.style.fontSize = Math.random() * 12 + 8 + 'px';
                snow.style.animation = `sparkle ${Math.random() * 2 + 1.5}s ease-in-out`;
                snow.style.pointerEvents = 'none';
                particlesContainer.appendChild(snow);
                
                setTimeout(() => {
                    snow.remove();
                }, 3000);
            }
        }
        
        function nextExperiment() {
            const objectEl = document.getElementById('main-object');
            objectEl.className = 'main-object';
            objectEl.style.transform = 'scale(1)';
            objectEl.style.filter = 'none';
            objectEl.style.transition = 'all 0.8s ease';
            
            document.getElementById('particles').innerHTML = '';
            currentTask++;
            
            setTimeout(() => {
                loadExperiment();
            }, 500);
        }
        
        function updateDisplay() {
            document.getElementById('score').textContent = score;
            
            let heartsDisplay = '';
            for (let i = 0; i < lives; i++) {
                heartsDisplay += '‚ù§Ô∏è';
            }
            for (let i = lives; i < 3; i++) {
                heartsDisplay += 'üñ§';
            }
            document.getElementById('lives').textContent = heartsDisplay;
        }
        
        function gameOver() {
            gameRunning = false;
            
            let message = 'Experiment beendet!';
            if (taskCount >= 50) {
                message = 'Adjektiv-Wissenschaftler! üî¨';
            } else if (taskCount >= 25) {
                message = 'Labor-Experte! üß™';
            } else if (taskCount >= 10) {
                message = 'Eigenschafts-Forscher! üåà';
            } else if (taskCount >= 5) {
                message = 'Guter Experimentator! ‚≠ê';
            }
            
            document.getElementById('gameOver').querySelector('h2').textContent = message;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('gameOver').style.display = 'block';
        }
        
        function restartGame() {
            clearInterval(timer);
            gameRunning = false;
            gameStarted = false;
            score = 0;
            lives = 3;
            currentTask = 0;
            taskCount = 0;
            currentLevel = 1;
            buttonsDisabled = false;
            timeRemaining = 3;
            document.getElementById('gameOver').style.display = 'none';
            document.getElementById('startScreen').style.display = 'flex';
            document.getElementById('mainObject').textContent = 'üéØ';
            document.getElementById('mainObject').className = 'main-object';
            document.getElementById('particles').innerHTML = '';
            updateDisplay();
        }
        
        async function saveHighscore() {
            const playerName = document.getElementById('playerName').value.trim();
            if (!playerName) {
                alert('Bitte gib deinen Namen ein!');
                return;
            }
            
            try {
                const highscoreData = {
                    name: playerName,
                    score: score,
                    game: 'adjektive',
                    timestamp: Date.now(),
                    date: new Date().toLocaleDateString('de-DE')
                };
                
                const response = await fetch(`${firebaseUrl}/highscores.json`, {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(highscoreData)
                });
                
                if (response.ok) {
                    alert('Highscore gespeichert!');
                    loadHighscores();
                    document.getElementById('playerName').value = '';
                } else {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
            } catch (error) {
                console.error('Fehler beim Speichern des Highscores:', error);
                alert('Fehler beim Speichern des Highscores. √úberpr√ºfe deine Internetverbindung und versuche es nochmal.');
            }
        }
        
        async function loadHighscores() {
            try {
                const response = await fetch(`${firebaseUrl}/highscores.json`, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data) {
                    document.getElementById('highscoreList').innerHTML = 'Noch keine Highscores vorhanden.';
                    return;
                }
                
                // Nur Adjektiv-Highscores filtern und sortieren
                const adjektivHighscores = Object.values(data)
                    .filter(entry => entry.game === 'adjektive')
                    .sort((a, b) => b.score - a.score)
                    .slice(0, 10); // Top 10
                
                if (adjektivHighscores.length === 0) {
                    document.getElementById('highscoreList').innerHTML = 'Noch keine Adjektiv-Highscores vorhanden.';
                    return;
                }
                
                let html = '<ol>';
                adjektivHighscores.forEach(entry => {
                    html += `<li><strong>${entry.name}</strong>: ${entry.score} Punkte (${entry.date})</li>`;
                });
                html += '</ol>';
                
                document.getElementById('highscoreList').innerHTML = html;
            } catch (error) {
                console.error('Fehler beim Laden der Highscores:', error);
                document.getElementById('highscoreList').innerHTML = 
                    'Highscores werden geladen... <br><small>(Stelle sicher, dass deine Internetverbindung aktiv ist)</small>';
                
                setTimeout(() => {
                    loadHighscores();
                }, 3000);
            }
        }
        
        updateDisplay();
        loadHighscores();
    </script>
</body>
</html>
